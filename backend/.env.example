# Environment Variables Configuration
# Copy this file to .env and fill in your values

# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME=Customer Intelligence API
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production

# ============================================
# SERVER CONFIGURATION
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true  # Set to false in production

# ============================================
# CORS SETTINGS
# ============================================
# Comma-separated list of allowed origins
# Development default
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:5174

# Production example:
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# SECURITY
# ============================================
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-change-in-production

# JWT Settings
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Key for external integrations (optional)
API_KEY=your-api-key-here

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST_SIZE=10

# ============================================
# DATABASE (if using)
# ============================================
# DATABASE_URL=postgresql://user:password@localhost:5432/dbname
# DATABASE_POOL_SIZE=10
# DATABASE_MAX_OVERFLOW=20

# ============================================
# REDIS (for caching and rate limiting)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_ENABLED=false  # Set to true when Redis is available

# ============================================
# DATA PATHS
# ============================================
DATA_DIR=./data
RAW_DATA_DIR=./data/raw
PROCESSED_DATA_DIR=./data/processed
MODELS_DIR=./models
OUTPUTS_DIR=./outputs

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=./logs/app.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ============================================
# MONITORING & OBSERVABILITY
# ============================================
# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_AUTHENTICATION=false  # Set to true when auth is implemented
ENABLE_RATE_LIMITING=true
ENABLE_KILL_SWITCH=false
ENABLE_METRICS=true
ENABLE_AUDIT_LOGGING=false

# ============================================
# MODEL SETTINGS
# ============================================
MODEL_RELOAD_INTERVAL=3600  # seconds
MODEL_CACHE_SIZE=100
PREDICTION_TIMEOUT=5  # seconds

# ============================================
# BUSINESS LOGIC
# ============================================
DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=1000
DEFAULT_CHURN_THRESHOLD=0.7
HIGH_VALUE_CLV_THRESHOLD=1000

# ============================================
# EXTERNAL SERVICES (if any)
# ============================================
# EMAIL_SERVICE_API_KEY=
# SMS_SERVICE_API_KEY=
# ANALYTICS_API_KEY=

# ============================================
# DEVELOPMENT ONLY
# ============================================
DEBUG=true  # Set to false in production
RELOAD_ON_CHANGE=true  # Set to false in production
ENABLE_DOCS=true  # Set to false in production for security
ENABLE_CORS_ALL=false  # NEVER set to true in production